(function(t){function e(e){for(var i,a,s=e[0],c=e[1],u=e[2],d=0,h=[];d<s.length;d++)a=s[d],r[a]&&h.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={1:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/tools/of/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([3,0]),n()})({3:function(t,e,n){t.exports=n("zUnb")},EDI0:function(t,e,n){},QVNJ:function(t,e){Date.prototype.addHours=function(t){return this.setHours(this.getHours()+t),this}},SDFh:function(t,e,n){"use strict";var i=n("Y6aU"),r=n.n(i);r.a},Y6aU:function(t,e,n){},ZL7j:function(t,e,n){"use strict";var i=n("EDI0"),r=n.n(i);r.a},m27N:function(t,e,n){},tew2:function(t,e,n){"use strict";var i=n("m27N"),r=n.n(i);r.a},zUnb:function(t,e,n){"use strict";n.r(e);n("VRzm");var i=n("Kw5r"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],a=(n("ZL7j"),n("KHd+")),s={},c=Object(a["a"])(s,r,o,!1,null,null,null),u=c.exports,l=n("jE9Z"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),n("div",{attrs:{id:"visual"}},[n("shadow-simulation",{attrs:{duration:t.duration}})],1),n("div",{attrs:{id:"params"}},[n("label",{attrs:{for:"parkingTime"}},[t._v("\r\n            Combien de temps souhaitez-vous stationner ? \r\n        ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.durationAsString,expression:"durationAsString"}],staticClass:"form-control",attrs:{name:"parkingTime",id:"parkingTime"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.durationAsString=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[t._v("Moins d'une heure")]),n("option",{attrs:{value:"1"}},[t._v("Pendant 1H")]),n("option",{attrs:{value:"2"}},[t._v("Pendant 2H")]),n("option",{attrs:{value:"3"}},[t._v("Pendant 3H")]),n("option",{attrs:{value:"4"}},[t._v("Pendant 4H")]),n("option",{attrs:{value:"5"}},[t._v("Pendant 5H")]),n("option",{attrs:{value:"6"}},[t._v("Pendant 6H")]),n("option",{attrs:{value:"7"}},[t._v("Pendant 7H")]),n("option",{attrs:{value:"8"}},[t._v("Pendant 8H")]),n("option",{attrs:{value:"9"}},[t._v("Pendant 9H")]),n("option",{attrs:{value:"10"}},[t._v("Pendant 10H")])]),t._m(1)])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"title"}},[n("div",{staticClass:"display-4"},[t._v("Ombre fraÃ®che")]),n("small",[n("span",{staticClass:"circle-green"}),t._v(" l'arbre\r\n            "),n("span",{staticClass:"circle-orange"}),t._v(" le soleil\r\n            "),n("span",{staticClass:"circle-grey"}),t._v(" l'ombre\r\n            "),n("span",{staticClass:"circle-red"}),t._v(" le Nord\r\n        ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("small",[n("br"),t._v(" version 0.05\r\n            ")])])}],f=(n("xfY5"),n("BP8U"),n("a1Th"),n("xmWZ")),v=n("3Aqn"),g=n("qpph"),p=n("0yhX"),m=n("EdlT"),b=n("a94B"),y=n("YKMj"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"shadow-simulation"}},[n("svg",{attrs:{id:"shadow-display"}},[t._l(t.shadows,function(t){return[n("ellipse",{staticClass:"shadow",attrs:{cx:t.centerX,cy:t.centerY,rx:t.radiusX,ry:t.radiusY,transform:t.transform}})]}),n("circle",{attrs:{cx:t.svgWidth/2,cy:t.svgHeight/2,r:t.objectRadius*t.svgMin,id:"object"}}),n("circle",{attrs:{cx:t.svgWidth/2,cy:t.svgHeight/2-t.northIndicatorRadiusOrbit*t.svgMin,r:t.northIndicatorRadius*t.svgMin,id:"northIndicator",transform:t.northIndicatorTransform}}),n("circle",{attrs:{cx:t.svgWidth/2,cy:t.svgHeight/2-t.sunIndicatorRadiusOrbit*t.svgMin,r:t.sunIndicatorRadius*t.svgMin,id:"sunIndicator",transform:t.sunIndicatorTransform}})],2)])},O=[],j=function t(){Object(f["a"])(this,t)},P=(n("QVNJ"),function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"===typeof Reflect?"undefined":Object(b["a"])(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}),_=function(t,e){if("object"===("undefined"===typeof Reflect?"undefined":Object(b["a"])(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},S=function(t){function e(){var t;return Object(f["a"])(this,e),t=Object(p["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.svgWidth=0,t.svgHeight=0,t.svgMin=0,t.objectRadius=.08,t.northIndicatorRadius=.005,t.northIndicatorRadiusOrbit=.48,t.northIndicatorTransform="rotate(0)",t.SunCalc=n("yVZF"),t.sunIndicatorRadius=.02,t.sunIndicatorMaxRadiusOrbit=.3,t.sunIndicatorRadiusOrbit=0,t.sunIndicatorTransform="rotate(0)",t.currentOrientation={alpha:null,beta:null,gamma:null},t.shadows=new Array,t.duration=3,t}return Object(g["a"])(e,[{key:"mounted",value:function(){this.refreshSize(),window.addEventListener("resize",this.refreshSize),window.addEventListener("deviceorientation",this.catchNewOrientation),window.addEventListener("visibilitychange",this.refreshLocation),this.refreshLocation()}},{key:"unmounted",value:function(){window.removeEventListener("resize",this.refreshSize),window.removeEventListener("deviceorientation",this.catchNewOrientation),window.removeEventListener("visibilitychange",this.refreshLocation)}},{key:"refreshSize",value:function(){this.svgWidth=this.getSvgWidth(),this.svgHeight=this.getSvgHeight(),this.svgMin=Math.min(this.svgWidth,this.svgHeight)}},{key:"refreshLocation",value:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.catchNewGeoPosition)}},{key:"getSvgWidth",value:function(){var t=document.getElementById("shadow-display");return null===t?0:t.getBoundingClientRect().width}},{key:"getSvgHeight",value:function(){var t=document.getElementById("shadow-display");return null===t?0:t.getBoundingClientRect().height}},{key:"catchNewOrientation",value:function(t){this.currentOrientation={alpha:t.alpha,beta:t.beta,gamma:t.gamma},t.webkitCompassHeading&&(this.currentOrientation.alpha=t.webkitCompassHeading),this.setNorthIndicatorPosition(),this.setSunIndicatorPosition(),this.setShadows()}},{key:"catchNewGeoPosition",value:function(t){this.geoPosition=t,this.setNorthIndicatorPosition(),this.setSunIndicatorPosition(),this.setShadows()}},{key:"setNorthIndicatorPosition",value:function(){null!=this.currentOrientation.alpha&&(this.northIndicatorTransform="rotate(".concat(-this.currentOrientation.alpha,"\n          ").concat(this.svgWidth/2,"\n          ").concat(this.svgHeight/2,")"))}},{key:"setSunIndicatorPosition",value:function(){this.geoPosition&&(this.sunPosition=this.SunCalc.getPosition(this.geoPosition.timestamp,this.geoPosition.coords.latitude,this.geoPosition.coords.longitude),this.sunPosition&&this.currentOrientation.alpha&&(this.sunIndicatorRadiusOrbit=this.sunIndicatorMaxRadiusOrbit*Math.cos(this.sunPosition.altitude),this.sunIndicatorTransform="rotate(".concat(180*this.sunPosition.azimuth/Math.PI-180-this.currentOrientation.alpha,"\n            ").concat(this.svgWidth/2,"\n            ").concat(this.svgHeight/2,")")))}},{key:"durationChanged",value:function(t,e){this.setShadows()}},{key:"setShadows",value:function(){this.shadows=new Array;for(var t=0;t<=this.duration;t++){var e=this.createShadow(t);null!=e&&this.shadows.push(e)}}},{key:"createShadow",value:function(t){if(null===this.currentOrientation.alpha)return null;var e=new j,n=(new Date).addHours(t),i=this.SunCalc.getPosition(n,this.geoPosition.coords.latitude,this.geoPosition.coords.longitude),r=4/Math.sin(i.altitude)*(this.objectRadius/2)*this.svgMin;return e.centerX=this.svgWidth/2,e.centerY=this.svgHeight/2-this.objectRadius*this.svgMin+r/2,e.radiusX=this.objectRadius*this.svgMin,e.radiusY=r/2,e.angle=180*i.azimuth/Math.PI-180-this.currentOrientation.alpha,e.transform="rotate(".concat(e.angle,"\n      ").concat(this.svgWidth/2,"\n      ").concat(this.svgHeight/2,")"),e}}]),Object(v["a"])(e,t),e}(y["c"]);P([Object(y["b"])(),_("design:type",Number)],S.prototype,"duration",void 0),P([Object(y["d"])("duration"),_("design:type",Function),_("design:paramtypes",[Number,Number]),_("design:returntype",void 0)],S.prototype,"durationChanged",null),S=P([y["a"]],S);var I=S,R=I,H=(n("tew2"),Object(a["a"])(R,w,O,!1,null,"26009898",null)),k=H.exports,M=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"===typeof Reflect?"undefined":Object(b["a"])(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},C=function(t){function e(){var t;return Object(f["a"])(this,e),t=Object(p["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.duration=3,t}return Object(g["a"])(e,[{key:"durationAsString",get:function(){return this.duration.toString()},set:function(t){this.duration=Number.parseInt(t)}}]),Object(v["a"])(e,t),e}(y["c"]);C=M([Object(y["a"])({components:{ShadowSimulation:k}})],C);var N=C,x=N,E=(n("SDFh"),Object(a["a"])(x,d,h,!1,null,null,null)),T=E.exports;i["default"].use(l["a"]);var L=new l["a"]({base:"/tools/of/",mode:"history",routes:[{path:"/",name:"home",component:T}]}),W=n("L2JU");i["default"].use(W["a"]);var z=new W["a"].Store({state:{},mutations:{},actions:{}}),A=n("lIOY");"https:"===location.protocol&&Object(A["a"])("".concat("/tools/of/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),i["default"].config.productionTip=!1,new i["default"]({router:L,store:z,render:function(t){return t(u)}}).$mount("#app")}});
//# sourceMappingURL=app.6fbd68bf.js.map